<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TypeMaster - Intelligent Typing Tutor</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <h1 class="app-title">TypeMaster</h1>
      <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="practice">Practice</button>
        <button class="nav-tab" data-tab="lessons">Lessons</button>
        <button class="nav-tab" data-tab="analytics">Analytics</button>
        <button class="nav-tab" data-tab="settings">Settings</button>
      </nav>
    </header>

    <main class="app-main">
      <!-- Practice Tab -->
      <section id="practice-tab" class="tab-content active">
        <div class="practice-container">
          <div class="practice-header">
            <h2>Adaptive Practice</h2>
            <div class="practice-stats">
              <div class="stat">
                <span class="stat-label">WPM</span>
                <span class="stat-value" id="current-wpm">0</span>
              </div>
              <div class="stat">
                <span class="stat-label">Accuracy</span>
                <span class="stat-value" id="current-accuracy">0%</span>
              </div>
              <div class="stat">
                <span class="stat-label">Time</span>
                <span class="stat-value" id="current-time">0:00</span>
              </div>
            </div>
          </div>

          <div class="difficulty-focus" id="difficulty-focus">
            <h3>Focus Area</h3>
            <p>Practicing challenging characters: <span id="focus-characters"></span></p>
          </div>

          <div class="typing-area">
            <div class="text-display" id="text-display">
              <span class="text-to-type" id="text-to-type">Click "Start Practice" to begin your adaptive typing
                session</span>
            </div>
            <textarea class="typing-input" id="typing-input" placeholder="Start typing here..." disabled></textarea>
          </div>

          <div class="practice-controls">
            <button class="btn btn-primary" id="start-practice">Start Practice</button>
            <button class="btn btn-secondary" id="reset-practice" disabled>Reset</button>
            <button class="btn btn-secondary" id="generate-drill">Generate Targeted Drill</button>
          </div>

          <div class="real-time-feedback" id="real-time-feedback">
            <div class="feedback-item">
              <span class="feedback-label">Current Character:</span>
              <span class="feedback-value" id="current-char">-</span>
            </div>
            <div class="feedback-item">
              <span class="feedback-label">Errors This Session:</span>
              <span class="feedback-value" id="session-errors">0</span>
            </div>
          </div>
        </div>
      </section>

      <section id="lessons-tab" class="tab-content">
        <div class="lessons-container">
          <h2>Typing Lessons</h2>
          <div class="lessons-grid" id="lessons-grid">
            <!-- Lessons will be dynamically generated -->
          </div>
        </div>
      </section>

      <section id="analytics-tab" class="tab-content">
        <div class="analytics-container">
          <h2>Progress Analytics</h2>

          <div class="analytics-overview">
            <div class="analytics-card">
              <h3>Overall Performance</h3>
              <div class="performance-metrics">
                <div class="metric">
                  <span class="metric-label">Average WPM</span>
                  <span class="metric-value" id="avg-wpm">0</span>
                </div>
                <div class="metric">
                  <span class="metric-label">Best WPM</span>
                  <span class="metric-value" id="best-wpm">0</span>
                </div>
                <div class="metric">
                  <span class="metric-label">Average Accuracy</span>
                  <span class="metric-value" id="avg-accuracy">0%</span>
                </div>
                <div class="metric">
                  <span class="metric-label">Total Practice Time</span>
                  <span class="metric-value" id="total-time">0 min</span>
                </div>
              </div>
            </div>

            <div class="analytics-card">
              <h3>Challenging Characters</h3>
              <div class="character-analysis" id="character-analysis">
                <!-- Character difficulty analysis will be displayed here -->
              </div>
            </div>
          </div>

          <div class="progress-charts">
            <div class="chart-container">
              <h3>WPM Progress</h3>
              <canvas id="wpm-chart" width="400" height="200"></canvas>
            </div>
            <div class="chart-container">
              <h3>Accuracy Progress</h3>
              <canvas id="accuracy-chart" width="400" height="200"></canvas>
            </div>
          </div>

          <div class="session-history">
            <h3>Recent Sessions</h3>
            <div class="sessions-list" id="sessions-list">
              <!-- Session history will be displayed here -->
            </div>
          </div>
        </div>
      </section>

      <section id="settings-tab" class="tab-content">
        <div class="settings-container">
          <h2>Settings</h2>

          <div class="settings-group">
            <h3>Practice Settings</h3>
            <div class="setting-item">
              <label for="practice-duration">Practice Duration (minutes)</label>
              <select id="practice-duration">
                <option value="1">1 minute</option>
                <option value="2">2 minutes</option>
                <option value="5">5 minutes</option>
                <option value="10">10 minutes</option>
                <option value="15">15 minutes</option>
              </select>
            </div>
            <div class="setting-item">
              <label for="difficulty-adaptation">Difficulty Adaptation</label>
              <select id="difficulty-adaptation">
                <option value="aggressive">Aggressive</option>
                <option value="moderate">Moderate</option>
                <option value="gentle">Gentle</option>
              </select>
            </div>
          </div>

          <div class="settings-group">
            <h3>Interface Settings</h3>
            <div class="setting-item">
              <label for="font-size">Font Size</label>
              <select id="font-size">
                <option value="small">Small</option>
                <option value="medium">Medium</option>
                <option value="large">Large</option>
                <option value="extra-large">Extra Large</option>
              </select>
            </div>
            <div class="setting-item">
              <label>
                <input type="checkbox" id="sound-feedback">
                Sound Feedback
              </label>
            </div>
            <div class="setting-item">
              <label>
                <input type="checkbox" id="show-characters">
                Show Virtual Keyboard
              </label>
            </div>
          </div>

          <div class="settings-group">
            <h3>Data Management</h3>
            <div class="setting-item">
              <button class="btn btn-secondary" id="export-data">Export Progress Data</button>
              <button class="btn btn-danger" id="reset-data">Reset All Data</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Virtual Keyboard -->
    <div class="virtual-keyboard" id="virtual-keyboard">
      <div class="keyboard-row">
        <div class="key" data-key="`">~<br>`</div>
        <div class="key" data-key="1">!<br>1</div>
        <div class="key" data-key="2">@<br>2</div>
        <div class="key" data-key="3">#<br>3</div>
        <div class="key" data-key="4">$<br>4</div>
        <div class="key" data-key="5">%<br>5</div>
        <div class="key" data-key="6">^<br>6</div>
        <div class="key" data-key="7">&<br>7</div>
        <div class="key" data-key="8">*<br>8</div>
        <div class="key" data-key="9">(<br>9</div>
        <div class="key" data-key="0">)<br>0</div>
        <div class="key" data-key="-">_<br>-</div>
        <div class="key" data-key="=">+<br>=</div>
        <div class="key key-wide" data-key="Backspace">Backspace</div>
      </div>
      <div class="keyboard-row">
        <div class="key key-wide" data-key="Tab">Tab</div>
        <div class="key" data-key="q">Q</div>
        <div class="key" data-key="w">W</div>
        <div class="key" data-key="e">E</div>
        <div class="key" data-key="r">R</div>
        <div class="key" data-key="t">T</div>
        <div class="key" data-key="y">Y</div>
        <div class="key" data-key="u">U</div>
        <div class="key" data-key="i">I</div>
        <div class="key" data-key="o">O</div>
        <div class="key" data-key="p">P</div>
        <div class="key" data-key="[">{<br>[</div>
        <div class="key" data-key="]">}<br>]</div>
        <div class="key" data-key="\">|<br>\</div>
      </div>
      <div class="keyboard-row">
        <div class="key key-wide" data-key="CapsLock">Caps Lock</div>
        <div class="key" data-key="a">A</div>
        <div class="key" data-key="s">S</div>
        <div class="key" data-key="d">D</div>
        <div class="key" data-key="f">F</div>
        <div class="key" data-key="g">G</div>
        <div class="key" data-key="h">H</div>
        <div class="key" data-key="j">J</div>
        <div class="key" data-key="k">K</div>
        <div class="key" data-key="l">L</div>
        <div class="key" data-key=";">:<br>;</div>
        <div class="key" data-key="'">"<br>'</div>
        <div class="key key-wide" data-key="Enter">Enter</div>
      </div>
      <div class="keyboard-row">
        <div class="key key-wide" data-key="Shift">Shift</div>
        <div class="key" data-key="z">Z</div>
        <div class="key" data-key="x">X</div>
        <div class="key" data-key="c">C</div>
        <div class="key" data-key="v">V</div>
        <div class="key" data-key="b">B</div>
        <div class="key" data-key="n">N</div>
        <div class="key" data-key="m">M</div>
        <div class="key" data-key=",">&lt;<br>,</div>
        <div class="key" data-key=".">&gt;<br>.</div>
        <div class="key" data-key="/">?<br>/</div>
        <div class="key key-wide" data-key="Shift">Shift</div>
      </div>
      <div class="keyboard-row">
        <div class="key key-wide" data-key="Ctrl">Ctrl</div>
        <div class="key" data-key="Meta">Win</div>
        <div class="key" data-key="Alt">Alt</div>
        <div class="key key-space" data-key=" ">Space</div>
        <div class="key" data-key="Alt">Alt</div>
        <div class="key" data-key="Meta">Win</div>
        <div class="key" data-key="ContextMenu">Menu</div>
        <div class="key key-wide" data-key="Ctrl">Ctrl</div>
      </div>
    </div>
  </div>

  <script src="js/storage.js"></script>
  <script src="js/analytics.js"></script>
  <script src="js/adaptiveLearning.js"></script>
  <script src="js/lessons.js"></script>
  <script src="js/app.js"></script>
</body>

</html>